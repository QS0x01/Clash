port: 27890
socks-port: 27890
mixed-port: 27890
allow-lan: true
mode: Rule
log-level: warning
ipv6: true
external-controller: 127.0.0.1:9090

dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    - WORKGROUP
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 180.76.76.76
    - 114.114.114.114
  fallback:
    - 8.8.8.8
    - 1.1.1.1
    - 208.67.222.222
    - 94.140.14.14
  fallback-filter:
     geoip: true
     geoip-code: CN
     ipcidr:
       - 240.0.0.0/4
       - 127.0.0.1/32

proxy-groups:
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    proxies:
      - ğŸ‡ºğŸ‡².US
      - ğŸ‡¸ğŸ‡¬.SG
      - ğŸ‡­ğŸ‡°.HK
      - ğŸ‡¨ğŸ‡³.TW
      - ğŸ‡¯ğŸ‡µ.JP
  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies:
      - ğŸ‡¨ğŸ‡³.TW
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°.HK
      - DIRECT
  - name: ğŸ“º ç•ªå‰§å‡ºå·®
    type: select
    proxies:
      - ğŸ‡­ğŸ‡°.HK
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡¨ğŸ‡³.TW
      - DIRECT
  - name: ğŸ“º å“”å“©å“”å“©
    type: select
    proxies:
      - DIRECT
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°.HK
      - ğŸ‡¨ğŸ‡³.TW
  - name: ğŸ“¢ åšç§æ±‡æŠ¥
    type: select
    proxies:
      - DIRECT
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡°.HK
      - ğŸ‡ºğŸ‡².US
  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use:
      - Hybrid
      - Trunk
  - name: ğŸ‡ºğŸ‡².US
    type: load-balance
    strategy: round-robin
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    filter: "US|tate|ç¾å›½"
    use:
      - Hybrid
      - Trunk
  - name: ğŸ‡¸ğŸ‡¬.SG
    type: load-balance
    strategy: round-robin
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    filter: "SG|ingapore|å¡|ç‹®"
    use:
      - Hybrid
      - Trunk
  - name: ğŸ‡­ğŸ‡°.HK
    type: load-balance
    strategy: round-robin
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    filter: "HK|ong|é¦™æ¸¯"
    use:
      - Hybrid
      - Trunk
  - name: ğŸ‡¨ğŸ‡³.TW
    type: load-balance
    strategy: round-robin
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    filter: "TW|aiwan|å°æ¹¾"
    use:
      - Hybrid
      - Trunk
  - name: ğŸ‡¯ğŸ‡µ.JP
    type: load-balance
    strategy: round-robin
    url: https://www.gstatic.com/generate_204
    interval: 1m
    tolerance: 10ms
    filter: "JP|apan|ä¸œäº¬|æ—¥æœ¬"
    use:
      - Hybrid
      - Trunk

proxy-providers:
  Hybrid:
    type: http
    url: "https://api.tsutsu.one/sub?target=clash&url=&udp=true&list=true"
    interval: 2h
    filter: ^(?!.*ä¸“çº¿).*
    path: ./Hybrid.yaml
    health-check:
      enable: true
      interval: 1m
      url: https://www.gstatic.com/generate_204
  Trunk:
    type: http
    url: "https://api.tsutsu.one/sub?target=clash&url=&udp=true&list=true"
    interval: 2h
    filter: ^(?!.*ä¸“çº¿).*
    path: ./Trunk.yaml
    health-check:
      enable: true
      interval: 1m
      url: https://www.gstatic.com/generate_204
  # Access:
  #   type: http
  #   url:  "https://sub.xeton.dev/sub?target=clash&url=&udp=true&list=true&exclude=(ä¸“çº¿)"
  #   interval: 2h
  #   path: ./Access.yaml
  #   health-check:
  #     enable: true
  #     interval: 1m
  #     url: https://www.gstatic.com/generate_204
  # Switch:
  #   type: http
  #   url:  "https://sub.xeton.dev/sub?target=clash&url=&udp=true&list=true&exclude=(ä¸“çº¿)"
  #   interval: 2h
  #   path: ./Switch.yaml
  #   health-check:
  #     enable: true
  #     interval: 1m
  #     url: https://www.gstatic.com/generate_204

rule-providers:
  Bahamut:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Bahamut.yaml"
    path: ./ACL4SSR/Bahamut.yaml
    interval: 24h
  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Bilibili.yaml"
    path: ./ACL4SSR/Bilibili.yaml
    interval: 24h
  BilibiliHMT:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/BilibiliHMT.yaml"
    path: ./ACL4SSR/BilibiliHMT.yaml
    interval: 24h
  EHGallery:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/EHGallery.yaml"
    path: ./ACL4SSR/EHGallery.yaml
    interval: 24h   
  Google:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Google.yaml"
    path: ./ACL4SSR/Google.yaml
    interval: 24h         
  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Microsoft.yaml"
    path: ./ACL4SSR/Microsoft.yaml
    interval: 24h
  NetEaseMusic:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/NetEaseMusic.yaml"
    path: ./ACL4SSR/NetEaseMusic.yaml
    interval: 24h
  OneDrive:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OneDrive.yaml"
    path: ./ACL4SSR/OneDrive.yaml
    interval: 24h
  OpenAi:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OpenAi.yaml"
    path: ./ACL4SSR/OpenAi.yaml
    interval: 24h
  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Telegram.yaml"
    path: ./ACL4SSR/Telegram.yaml
    interval: 24h
  YouTube:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/YouTube.yaml"
    path: ./ACL4SSR/YouTube.yaml
    interval: 24h
  BanProgramAD:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanProgramAD.yaml"
    path: ./ACL4SSR/BanProgramAD.yaml
    interval: 24h
  ChinaCompanyIp:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaCompanyIp.yaml"
    path: ./ACL4SSR/ChinaCompanyIp.yaml
    interval: 24h
  ChinaDomain:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml"
    path: ./ACL4SSR/ChinaDomain.yaml
    interval: 24h
  ChinaMedia:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"
    path: ./ACL4SSR/ChinaMedia.yaml
    interval: 24h
  Download:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Download.yaml"
    path: ./ACL4SSR/Download.yaml
    interval: 24h
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
    path: ./ACL4SSR/LocalAreaNetwork.yaml
    interval: 24h
  ProxyLite:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyLite.yaml"
    path: ./ACL4SSR/ProxyLite.yaml
    interval: 24h
  ProxyMedia:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyMedia.yaml"
    path: ./ACL4SSR/ProxyMedia.yaml
    interval: 24h

rules:
  - RULE-SET,LocalAreaNetwork,DIRECT
  - RULE-SET,BanProgramAD,REJECT
  - DOMAIN-SUFFIX,dmhy.best,ğŸ“¢ åšç§æ±‡æŠ¥
  - DOMAIN-SUFFIX,tracker.m-team.cc,ğŸ“¢ åšç§æ±‡æŠ¥
  - DOMAIN-SUFFIX,tracker.bakabt.me,ğŸ“¢ åšç§æ±‡æŠ¥
  - DOMAIN-SUFFIX,t.et8.org,ğŸ“¢ åšç§æ±‡æŠ¥
  - DOMAIN-SUFFIX,skyey.win,ğŸ“¢ åšç§æ±‡æŠ¥
  - DOMAIN-SUFFIX,dmhy.org,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN-SUFFIX,acgnx.se,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN-SUFFIX,nyaa.si,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN-SUFFIX,bakabt.me,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN-SUFFIX,m-team.cc,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - PROCESS-NAME,qbittorrent.exe,ğŸ“¢ åšç§æ±‡æŠ¥
  - PROCESS-NAME,uTorrent.exe,ğŸ“¢ åšç§æ±‡æŠ¥
  - PROCESS-NAME,baidunetdisk.exe,DIRECT
  - PROCESS-NAME,baidunetdiskhost.exe,DIRECT
  - PROCESS-NAME,DownloadSDKServer.exe,DIRECT
  - PROCESS-NAME,Thunder.exe,DIRECT
  - PROCESS-NAME,TIM.exe,DIRECT
  - PROCESS-NAME,cloudmusic.exe,DIRECT
  - PROCESS-NAME,Code.exe,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - PROCESS-NAME,yt-dlp.exe,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - PROCESS-NAME,Telegram.exe,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - DOMAIN-KEYWORD,hanime,ğŸ‡¸ğŸ‡¬.SG
  - DOMAIN-KEYWORD,xsus,ğŸ‡¸ğŸ‡¬.SG
  - DOMAIN-KEYWORD,cloudflare,DIRECT
  - DOMAIN-KEYWORD,speedtest,DIRECT
  - RULE-SET,OneDrive,DIRECT
  - RULE-SET,BilibiliHMT,ğŸ“º ç•ªå‰§å‡ºå·®
  - RULE-SET,Bilibili,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,Bahamut,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,YouTube,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,Google,ğŸ‡ºğŸ‡².US
  - RULE-SET,OpenAi,ğŸ‡ºğŸ‡².US
  - GEOIP,US,ğŸ‡ºğŸ‡².US
  - GEOIP,SG,ğŸ‡¸ğŸ‡¬.SG
  - GEOIP,HK,ğŸ‡­ğŸ‡°.HK
  - GEOIP,TW,ğŸ‡¨ğŸ‡³.TW
  - GEOIP,JP,ğŸ‡¯ğŸ‡µ.JP
  - RULE-SET,Telegram,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - RULE-SET,EHGallery,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - RULE-SET,Microsoft,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - RULE-SET,ProxyMedia,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - RULE-SET,ProxyLite,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - GEOIP,CN,DIRECT
  - RULE-SET,NetEaseMusic,DIRECT
  - RULE-SET,ChinaMedia,DIRECT
  - RULE-SET,ChinaDomain,DIRECT
  - RULE-SET,ChinaCompanyIp,DIRECT
  - RULE-SET,Download,DIRECT  
  - MATCH,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
